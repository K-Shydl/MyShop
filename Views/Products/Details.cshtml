@model MyShop.Models.Product
@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer L
@using Microsoft.AspNetCore.Identity
@inject SignInManager<MyShop.Models.ApplicationUser> SignInManager

@{
    ViewData["Title"] = "Product Details";
}

<h2><strong>@L["ProductDetails"]</strong></h2>

<h2>@Model.Name</h2>
<p>@Model.Description</p>
<p><strong>@L["Price"]:</strong> @Model.Price â‚´</p>

<p>
    <strong>@L["Category"]:</strong>
    @(Model.Category == null ? "-" : L["Category_" + Model.Category.Key])
</p>

<div class="mt-3">
    @if (!SignInManager.IsSignedIn(User))
    {
        <a class="btn btn-danger" asp-controller="Purchases" asp-action="NotLoggedIn">@L["Buy"]</a>
        <a class="btn btn-primary" asp-controller="Home" asp-action="Index">@L["BackToHome"]</a>
    }
    else
    {
        <a class="btn btn-danger" asp-controller="Purchases" asp-action="Confirm" asp-route-id="@Model.Id">@L["Buy"]</a>
        <a class="btn btn-primary" asp-controller="Home" asp-action="Index">@L["BackToHome"]</a>
    }
</div>
